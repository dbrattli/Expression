<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>expression.core.option API documentation</title>
<meta name="description" content="Option module …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>expression.core.option</code></h1>
</header>
<section id="section-intro">
<p>Option module.</p>
<p>Contains a collection of static methods (functions) for operating on
options. All functions takes the source as the last curried
argument, i.e all functions returns a function that takes the source
sequence as the only argument.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Option module.

Contains a collection of static methods (functions) for operating on
options. All functions takes the source as the last curried
argument, i.e all functions returns a function that takes the source
sequence as the only argument.
&#34;&#34;&#34;
from abc import ABC, abstractmethod
from typing import Any, Callable, Generator, Iterable, Iterator, List, Optional, TypeVar, cast, overload

from .error import EffectError
from .match import Matchable
from .pipe import pipe

TSource = TypeVar(&#34;TSource&#34;)
TResult = TypeVar(&#34;TResult&#34;)
T1 = TypeVar(&#34;T1&#34;)
T2 = TypeVar(&#34;T2&#34;)
T3 = TypeVar(&#34;T3&#34;)
T4 = TypeVar(&#34;T4&#34;)


class Option(Iterable[TSource], ABC, Matchable[TSource]):
    &#34;&#34;&#34;Option abstract base class.&#34;&#34;&#34;

    @overload
    def pipe(self, __fn1: Callable[[&#34;Option[TSource]&#34;], TResult]) -&gt; TResult:
        ...

    @overload
    def pipe(self, __fn1: Callable[[&#34;Option[TSource]&#34;], T1], __fn2: Callable[[T1], T2]) -&gt; T2:
        ...

    @overload
    def pipe(
        self, __fn1: Callable[[&#34;Option[TSource]&#34;], T1], __fn2: Callable[[T1], T2], __fn3: Callable[[T2], T3]
    ) -&gt; T3:
        ...

    @overload
    def pipe(
        self,
        __fn1: Callable[[&#34;Option[TSource]&#34;], T1],
        __fn2: Callable[[T1], T2],
        __fn3: Callable[[T2], T3],
        __fn4: Callable[[T3], T4],
    ) -&gt; T4:
        ...

    def pipe(self, *args: Any) -&gt; Any:
        &#34;&#34;&#34;Pipe option through the given functions.&#34;&#34;&#34;
        return pipe(self, *args)

    def default_value(self, value: TSource) -&gt; TSource:
        &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
        returns the specified default value.
        &#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def map(self, mapper: Callable[[TSource], TResult]) -&gt; &#34;Option[TResult]&#34;:
        raise NotImplementedError

    @abstractmethod
    def map2(self, mapper: Callable[[TSource, T2], TResult], other: &#34;Option[T2]&#34;) -&gt; &#34;Option[TResult]&#34;:
        raise NotImplementedError

    @abstractmethod
    def bind(self, mapper: Callable[[TSource], &#34;Option[TResult]&#34;]) -&gt; &#34;Option[TResult]&#34;:
        &#34;&#34;&#34;Bind option.

        Applies and returns the result of the mapper if the value is
        `Some`. If the value is `Nothing` then `Nothing` is returned.

        Args:
            mapper: A function that takes the value of type TSource from
                an option and transforms it into an option containing a
                value of type TResult.

        Returns:
            An option of the output type of the mapper.
        &#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def or_else(self, if_none: &#34;Option[TSource]&#34;) -&gt; &#34;Option[TSource]&#34;:
        &#34;&#34;&#34;Returns option if it is Some, otherwise returns `if_one`. &#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def to_list(self) -&gt; List[TSource]:
        raise NotImplementedError

    @abstractmethod
    def to_seq(self) -&gt; Iterable[TSource]:
        raise NotImplementedError

    @abstractmethod
    def is_some(self) -&gt; bool:
        &#34;&#34;&#34;Returns true if the option is not Nothing.&#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def is_none(self) -&gt; bool:
        &#34;&#34;&#34;Returns true if the option is Nothing.&#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def __eq__(self, other: Any) -&gt; bool:
        raise NotImplementedError

    def __repr__(self) -&gt; str:
        return self.__str__()

    @property
    @abstractmethod
    def value(self) -&gt; TSource:
        &#34;&#34;&#34;Returns the value wrapped by the option.

        A `ValueError` is raised if the option is `Nothing`.
        &#34;&#34;&#34;
        raise NotImplementedError


class Some(Option[TSource]):
    &#34;&#34;&#34;The Some option case class.&#34;&#34;&#34;

    def __init__(self, value: TSource) -&gt; None:
        self._value = value

    def default_value(self, value: TSource) -&gt; TSource:
        &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
        returns the specified default value.
        &#34;&#34;&#34;
        return self._value

    def is_some(self) -&gt; bool:
        &#34;&#34;&#34;Returns `True`.&#34;&#34;&#34;
        return True

    def is_none(self) -&gt; bool:
        &#34;&#34;&#34;Returns `False`.&#34;&#34;&#34;
        return False

    def map(self, mapper: Callable[[TSource], TResult]):
        return Some(mapper(self._value))

    def map2(self, mapper: Callable[[TSource, T2], TResult], other: Option[T2]) -&gt; Option[TResult]:
        if isinstance(other, Some):
            return Some(mapper(self._value, cast(Some[T2], other).value))
        return Nothing

    def bind(self, mapper: Callable[[TSource], Option[TResult]]) -&gt; Option[TResult]:
        &#34;&#34;&#34;Bind option.

        Applies and returns the result of the mapper if the value is
        `Some`. If the value is `Nothing` then `Nothing` is returned.

        Args:
            mapper: A function that takes the value of type TSource from
                an option and transforms it into an option containing a
                value of type TResult.

        Returns:
            An option of the output type of the mapper.
        &#34;&#34;&#34;
        return mapper(self._value)

    def or_else(self, if_none: Option[TSource]) -&gt; Option[TSource]:
        &#34;&#34;&#34;Returns `self`.&#34;&#34;&#34;
        return self

    def to_list(self) -&gt; List[TSource]:
        return [self._value]

    def to_seq(self) -&gt; Iterable[TSource]:
        return [self._value]

    @property
    def value(self) -&gt; TSource:
        &#34;&#34;&#34;Returns the value wrapped by the option.

        A `ValueError` is raised if the option is `Nothing`.
        &#34;&#34;&#34;
        return self._value

    def __match__(self, pattern: Any) -&gt; Iterable[TSource]:
        if self == pattern:
            return [self.value]

        try:
            if isinstance(self, pattern):
                return [self.value]
        except TypeError:
            pass

        return []

    def __eq__(self, other: Any) -&gt; bool:
        if isinstance(other, Some):
            return self._value == other._value  # type: ignore
        return False

    def __iter__(self) -&gt; Generator[TSource, TSource, TSource]:
        return (yield self._value)

    def __str__(self) -&gt; str:
        return f&#34;Some {self._value}&#34;


class Nothing_(Option[TSource], EffectError):
    &#34;&#34;&#34;The None option case class.

    Do not use. Use the singleton `Nothing` instead. Since Nothing is a
    singleton it can be tested e.g using `is`:
        &gt;&gt;&gt; if xs is Nothing:
        ...     return True
    &#34;&#34;&#34;

    def default_value(self, value: TSource) -&gt; TSource:
        &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
        returns the specified default value.
        &#34;&#34;&#34;
        return value

    def is_some(self) -&gt; bool:
        &#34;&#34;&#34;Returns `False`.&#34;&#34;&#34;
        return False

    def is_none(self) -&gt; bool:
        &#34;&#34;&#34;Returns `True`.&#34;&#34;&#34;
        return True

    def map(self, mapper: Callable[[TSource], TResult]):
        return self

    def map2(self, mapper: Callable[[TSource, T2], TResult], other: Option[T2]) -&gt; Option[TResult]:
        return Nothing

    def bind(self, mapper: Callable[[TSource], Option[TResult]]) -&gt; Option[TResult]:
        &#34;&#34;&#34;Bind option.

        Applies and returns the result of the mapper if the value is
        `Some`. If the value is `Nothing` then `Nothing` is returned.

        Args:
            mapper: A function that takes the value of type TSource from
                an option and transforms it into an option containing a
                value of type TResult.

        Returns:
            An option of the output type of the mapper.
        &#34;&#34;&#34;
        return Nothing

    def or_else(self, if_none: Option[TSource]) -&gt; Option[TSource]:
        &#34;&#34;&#34;Returns `if_none`.&#34;&#34;&#34;
        return if_none

    def to_list(self) -&gt; List[TSource]:
        return []

    def to_seq(self) -&gt; Iterable[TSource]:
        return []

    @property
    def value(self) -&gt; TSource:
        &#34;&#34;&#34;Returns the value wrapped by the option.

        A `ValueError` is raised if the option is `Nothing`.
        &#34;&#34;&#34;

        raise ValueError(&#34;There is no value.&#34;)

    def __match__(self, pattern: Any) -&gt; Iterable[TSource]:
        if self is pattern:
            return [Nothing]

        return []

    def __iter__(self) -&gt; Iterator[TSource]:
        &#34;&#34;&#34;Return iterator for the `Nothing` case.

        We basically want to return nothing, but we have to return
        something to signal fail.
        &#34;&#34;&#34;
        raise cast(Nothing_[TSource], Nothing)
        while False:
            yield

    def __eq__(self, other: Any) -&gt; bool:
        if other is Nothing:
            return True
        return False

    def __str__(self):
        return &#34;Nothing&#34;


# The singleton None class. We use the name &#39;Nothing&#39; here instead of `None` to
# avoid conflicts with the builtin `None` value in Python.
# Note to self: Must be of type `Nothing_` or pattern matching will not work.
Nothing: Nothing_[Any] = Nothing_()
&#34;&#34;&#34;Singleton `Nothing` object.

Since Nothing is a singleton it can be tested e.g using `is`:
    &gt;&gt;&gt; if xs is Nothing:
    ...     return True
&#34;&#34;&#34;


def bind(mapper: Callable[[TSource], Option[TResult]]) -&gt; Callable[[Option[TSource]], Option[TResult]]:
    &#34;&#34;&#34;Bind option.

    Applies and returns the result of the mapper if the value is
    `Some`. If the value is `Nothing` then `Nothing` is returned.

    Args:
        mapper: A function that takes the value of type TSource from
            an option and transforms it into an option containing a
            value of type TResult.

    Returns:
        A partially applied function that takes an option and returns an
        option of the output type of the mapper.
    &#34;&#34;&#34;

    def _bind(option: Option[TSource]) -&gt; Option[TResult]:
        return option.bind(mapper)

    return _bind


def default_value(value: TSource) -&gt; Callable[[Option[TSource]], TSource]:
    &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
    returns the specified default value.
    &#34;&#34;&#34;

    def _default_value(option: Option[TSource]) -&gt; TSource:
        return option.default_value(value)

    return _default_value


def is_none(option: Option[TSource]) -&gt; bool:
    return option.is_none()


def is_some(option: Option[TSource]) -&gt; bool:
    return option.is_some()


def map(mapper: Callable[[TSource], TResult]) -&gt; Callable[[Option[TSource]], Option[TResult]]:
    def _map(option: Option[TSource]) -&gt; Option[TResult]:
        return option.map(mapper)

    return _map


def map2(mapper: Callable[[T1, T2], TResult]) -&gt; Callable[[Option[T1], Option[T2]], Option[TResult]]:
    def _map2(opt1: Option[T1], opt2: Option[T2]) -&gt; Option[TResult]:
        return opt1.map2(mapper, opt2)

    return _map2


def or_else(if_none: Option[TSource]) -&gt; Callable[[Option[TSource]], Option[TSource]]:
    &#34;&#34;&#34;Returns option if it is Some, otherwise returns ifNone.&#34;&#34;&#34;

    def _or_else(option: Option[TSource]) -&gt; Option[TSource]:
        return option.or_else(if_none)

    return _or_else


def to_list(option: Option[TSource]) -&gt; List[TSource]:
    return option.to_list()


def to_seq(option: Option[TSource]) -&gt; Iterable[TSource]:
    return option.to_list()


def of_optional(value: Optional[TSource]) -&gt; Option[TSource]:
    &#34;&#34;&#34;Convert an optional value to an option.

    Convert a value that could be `None` into an `Option` value. Same as
    `of_obj` but with typed values.

    Args:
        value: The input optional value.

    Return:
        The result option.
    &#34;&#34;&#34;
    if value is None:
        return Nothing
    else:
        return Some(value)


def of_obj(value: Any) -&gt; Option[TSource]:
    &#34;&#34;&#34;Convert object to an option.

    Convert a value that could be `None` into an `Option` value.

    Args:
        value: The input object.

    Return:
        The result option.
    &#34;&#34;&#34;
    if value is None:
        return Nothing

    return Some(value)


__all__ = [
    &#34;Option&#34;,
    &#34;Some&#34;,
    &#34;Nothing&#34;,
    &#34;Nothing_&#34;,
    &#34;bind&#34;,
    &#34;default_value&#34;,
    &#34;map&#34;,
    &#34;map2&#34;,
    &#34;is_none&#34;,
    &#34;is_some&#34;,
    &#34;or_else&#34;,
    &#34;to_list&#34;,
    &#34;to_seq&#34;,
    &#34;of_optional&#34;,
    &#34;of_obj&#34;,
]</code></pre>
</details>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-variables">Global variables</h2>
<dl>
<dt id="expression.core.option.Nothing"><code class="name">var <span class="ident">Nothing</span> : <a title="expression.core.option.Nothing_" href="#expression.core.option.Nothing_">Nothing_</a>[typing.Any]</code></dt>
<dd>
<div class="desc"><p>Singleton <code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code> object.</p>
<p>Since Nothing is a singleton it can be tested e.g using <code>is</code>:
&gt;&gt;&gt; if xs is Nothing:
&hellip;
return True</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="expression.core.option.bind"><code class="name flex">
<span>def <span class="ident">bind</span></span>(<span>mapper: Callable[[~TSource], <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]]) ‑> Callable[[<a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]], <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]]</span>
</code></dt>
<dd>
<div class="desc"><p>Bind option.</p>
<p>Applies and returns the result of the mapper if the value is
<code><a title="expression.core.option.Some" href="#expression.core.option.Some">Some</a></code>. If the value is <code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code> then <code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code> is returned.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>mapper</code></strong></dt>
<dd>A function that takes the value of type TSource from
an option and transforms it into an option containing a
value of type TResult.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A partially applied function that takes an option and returns an
option of the output type of the mapper.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def bind(mapper: Callable[[TSource], Option[TResult]]) -&gt; Callable[[Option[TSource]], Option[TResult]]:
    &#34;&#34;&#34;Bind option.

    Applies and returns the result of the mapper if the value is
    `Some`. If the value is `Nothing` then `Nothing` is returned.

    Args:
        mapper: A function that takes the value of type TSource from
            an option and transforms it into an option containing a
            value of type TResult.

    Returns:
        A partially applied function that takes an option and returns an
        option of the output type of the mapper.
    &#34;&#34;&#34;

    def _bind(option: Option[TSource]) -&gt; Option[TResult]:
        return option.bind(mapper)

    return _bind</code></pre>
</details>
</dd>
<dt id="expression.core.option.default_value"><code class="name flex">
<span>def <span class="ident">default_value</span></span>(<span>value: ~TSource) ‑> Callable[[<a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]], ~TSource]</span>
</code></dt>
<dd>
<div class="desc"><p>Gets the value of the option if the option is Some, otherwise
returns the specified default value.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def default_value(value: TSource) -&gt; Callable[[Option[TSource]], TSource]:
    &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
    returns the specified default value.
    &#34;&#34;&#34;

    def _default_value(option: Option[TSource]) -&gt; TSource:
        return option.default_value(value)

    return _default_value</code></pre>
</details>
</dd>
<dt id="expression.core.option.is_none"><code class="name flex">
<span>def <span class="ident">is_none</span></span>(<span>option: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_none(option: Option[TSource]) -&gt; bool:
    return option.is_none()</code></pre>
</details>
</dd>
<dt id="expression.core.option.is_some"><code class="name flex">
<span>def <span class="ident">is_some</span></span>(<span>option: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_some(option: Option[TSource]) -&gt; bool:
    return option.is_some()</code></pre>
</details>
</dd>
<dt id="expression.core.option.map"><code class="name flex">
<span>def <span class="ident">map</span></span>(<span>mapper: Callable[[~TSource], ~TResult]) ‑> Callable[[<a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]], <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map(mapper: Callable[[TSource], TResult]) -&gt; Callable[[Option[TSource]], Option[TResult]]:
    def _map(option: Option[TSource]) -&gt; Option[TResult]:
        return option.map(mapper)

    return _map</code></pre>
</details>
</dd>
<dt id="expression.core.option.map2"><code class="name flex">
<span>def <span class="ident">map2</span></span>(<span>mapper: Callable[[~T1, ~T2], ~TResult]) ‑> Callable[[<a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~T1], <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~T2]], <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map2(mapper: Callable[[T1, T2], TResult]) -&gt; Callable[[Option[T1], Option[T2]], Option[TResult]]:
    def _map2(opt1: Option[T1], opt2: Option[T2]) -&gt; Option[TResult]:
        return opt1.map2(mapper, opt2)

    return _map2</code></pre>
</details>
</dd>
<dt id="expression.core.option.of_obj"><code class="name flex">
<span>def <span class="ident">of_obj</span></span>(<span>value: Any) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]</span>
</code></dt>
<dd>
<div class="desc"><p>Convert object to an option.</p>
<p>Convert a value that could be <code>None</code> into an <code><a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a></code> value.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>value</code></strong></dt>
<dd>The input object.</dd>
</dl>
<h2 id="return">Return</h2>
<p>The result option.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def of_obj(value: Any) -&gt; Option[TSource]:
    &#34;&#34;&#34;Convert object to an option.

    Convert a value that could be `None` into an `Option` value.

    Args:
        value: The input object.

    Return:
        The result option.
    &#34;&#34;&#34;
    if value is None:
        return Nothing

    return Some(value)</code></pre>
</details>
</dd>
<dt id="expression.core.option.of_optional"><code class="name flex">
<span>def <span class="ident">of_optional</span></span>(<span>value: Union[~TSource, NoneType]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]</span>
</code></dt>
<dd>
<div class="desc"><p>Convert an optional value to an option.</p>
<p>Convert a value that could be <code>None</code> into an <code><a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a></code> value. Same as
<code><a title="expression.core.option.of_obj" href="#expression.core.option.of_obj">of_obj()</a></code> but with typed values.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>value</code></strong></dt>
<dd>The input optional value.</dd>
</dl>
<h2 id="return">Return</h2>
<p>The result option.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def of_optional(value: Optional[TSource]) -&gt; Option[TSource]:
    &#34;&#34;&#34;Convert an optional value to an option.

    Convert a value that could be `None` into an `Option` value. Same as
    `of_obj` but with typed values.

    Args:
        value: The input optional value.

    Return:
        The result option.
    &#34;&#34;&#34;
    if value is None:
        return Nothing
    else:
        return Some(value)</code></pre>
</details>
</dd>
<dt id="expression.core.option.or_else"><code class="name flex">
<span>def <span class="ident">or_else</span></span>(<span>if_none: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]) ‑> Callable[[<a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]], <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]]</span>
</code></dt>
<dd>
<div class="desc"><p>Returns option if it is Some, otherwise returns ifNone.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def or_else(if_none: Option[TSource]) -&gt; Callable[[Option[TSource]], Option[TSource]]:
    &#34;&#34;&#34;Returns option if it is Some, otherwise returns ifNone.&#34;&#34;&#34;

    def _or_else(option: Option[TSource]) -&gt; Option[TSource]:
        return option.or_else(if_none)

    return _or_else</code></pre>
</details>
</dd>
<dt id="expression.core.option.to_list"><code class="name flex">
<span>def <span class="ident">to_list</span></span>(<span>option: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]) ‑> List[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_list(option: Option[TSource]) -&gt; List[TSource]:
    return option.to_list()</code></pre>
</details>
</dd>
<dt id="expression.core.option.to_seq"><code class="name flex">
<span>def <span class="ident">to_seq</span></span>(<span>option: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]) ‑> Iterable[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_seq(option: Option[TSource]) -&gt; Iterable[TSource]:
    return option.to_list()</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="expression.core.option.Nothing_"><code class="flex name class">
<span>class <span class="ident">Nothing_</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>The None option case class.</p>
<p>Do not use. Use the singleton <code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code> instead. Since Nothing is a
singleton it can be tested e.g using <code>is</code>:
&gt;&gt;&gt; if xs is Nothing:
&hellip;
return True</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Nothing_(Option[TSource], EffectError):
    &#34;&#34;&#34;The None option case class.

    Do not use. Use the singleton `Nothing` instead. Since Nothing is a
    singleton it can be tested e.g using `is`:
        &gt;&gt;&gt; if xs is Nothing:
        ...     return True
    &#34;&#34;&#34;

    def default_value(self, value: TSource) -&gt; TSource:
        &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
        returns the specified default value.
        &#34;&#34;&#34;
        return value

    def is_some(self) -&gt; bool:
        &#34;&#34;&#34;Returns `False`.&#34;&#34;&#34;
        return False

    def is_none(self) -&gt; bool:
        &#34;&#34;&#34;Returns `True`.&#34;&#34;&#34;
        return True

    def map(self, mapper: Callable[[TSource], TResult]):
        return self

    def map2(self, mapper: Callable[[TSource, T2], TResult], other: Option[T2]) -&gt; Option[TResult]:
        return Nothing

    def bind(self, mapper: Callable[[TSource], Option[TResult]]) -&gt; Option[TResult]:
        &#34;&#34;&#34;Bind option.

        Applies and returns the result of the mapper if the value is
        `Some`. If the value is `Nothing` then `Nothing` is returned.

        Args:
            mapper: A function that takes the value of type TSource from
                an option and transforms it into an option containing a
                value of type TResult.

        Returns:
            An option of the output type of the mapper.
        &#34;&#34;&#34;
        return Nothing

    def or_else(self, if_none: Option[TSource]) -&gt; Option[TSource]:
        &#34;&#34;&#34;Returns `if_none`.&#34;&#34;&#34;
        return if_none

    def to_list(self) -&gt; List[TSource]:
        return []

    def to_seq(self) -&gt; Iterable[TSource]:
        return []

    @property
    def value(self) -&gt; TSource:
        &#34;&#34;&#34;Returns the value wrapped by the option.

        A `ValueError` is raised if the option is `Nothing`.
        &#34;&#34;&#34;

        raise ValueError(&#34;There is no value.&#34;)

    def __match__(self, pattern: Any) -&gt; Iterable[TSource]:
        if self is pattern:
            return [Nothing]

        return []

    def __iter__(self) -&gt; Iterator[TSource]:
        &#34;&#34;&#34;Return iterator for the `Nothing` case.

        We basically want to return nothing, but we have to return
        something to signal fail.
        &#34;&#34;&#34;
        raise cast(Nothing_[TSource], Nothing)
        while False:
            yield

    def __eq__(self, other: Any) -&gt; bool:
        if other is Nothing:
            return True
        return False

    def __str__(self):
        return &#34;Nothing&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a></li>
<li>collections.abc.Iterable</li>
<li>abc.ABC</li>
<li>expression.core.match.Matchable</li>
<li>typing.Protocol</li>
<li>typing.Generic</li>
<li><a title="expression.core.error.EffectError" href="error.html#expression.core.error.EffectError">EffectError</a></li>
<li>builtins.Exception</li>
<li>builtins.BaseException</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="expression.core.option.Nothing_.is_none"><code class="name flex">
<span>def <span class="ident">is_none</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns <code>True</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_none(self) -&gt; bool:
    &#34;&#34;&#34;Returns `True`.&#34;&#34;&#34;
    return True</code></pre>
</details>
</dd>
<dt id="expression.core.option.Nothing_.is_some"><code class="name flex">
<span>def <span class="ident">is_some</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns <code>False</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_some(self) -&gt; bool:
    &#34;&#34;&#34;Returns `False`.&#34;&#34;&#34;
    return False</code></pre>
</details>
</dd>
<dt id="expression.core.option.Nothing_.map"><code class="name flex">
<span>def <span class="ident">map</span></span>(<span>self, mapper: Callable[[~TSource], ~TResult])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map(self, mapper: Callable[[TSource], TResult]):
    return self</code></pre>
</details>
</dd>
<dt id="expression.core.option.Nothing_.map2"><code class="name flex">
<span>def <span class="ident">map2</span></span>(<span>self, mapper: Callable[[~TSource, ~T2], ~TResult], other: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~T2]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map2(self, mapper: Callable[[TSource, T2], TResult], other: Option[T2]) -&gt; Option[TResult]:
    return Nothing</code></pre>
</details>
</dd>
<dt id="expression.core.option.Nothing_.or_else"><code class="name flex">
<span>def <span class="ident">or_else</span></span>(<span>self, if_none: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]</span>
</code></dt>
<dd>
<div class="desc"><p>Returns <code>if_none</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def or_else(self, if_none: Option[TSource]) -&gt; Option[TSource]:
    &#34;&#34;&#34;Returns `if_none`.&#34;&#34;&#34;
    return if_none</code></pre>
</details>
</dd>
<dt id="expression.core.option.Nothing_.to_list"><code class="name flex">
<span>def <span class="ident">to_list</span></span>(<span>self) ‑> List[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_list(self) -&gt; List[TSource]:
    return []</code></pre>
</details>
</dd>
<dt id="expression.core.option.Nothing_.to_seq"><code class="name flex">
<span>def <span class="ident">to_seq</span></span>(<span>self) ‑> Iterable[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_seq(self) -&gt; Iterable[TSource]:
    return []</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a></b></code>:
<ul class="hlist">
<li><code><a title="expression.core.option.Option.bind" href="#expression.core.option.Option.bind">bind</a></code></li>
<li><code><a title="expression.core.option.Option.default_value" href="#expression.core.option.Option.default_value">default_value</a></code></li>
<li><code><a title="expression.core.option.Option.pipe" href="#expression.core.option.Option.pipe">pipe</a></code></li>
<li><code><a title="expression.core.option.Option.value" href="#expression.core.option.Option.value">value</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="expression.core.option.Option"><code class="flex name class">
<span>class <span class="ident">Option</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Option abstract base class.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Option(Iterable[TSource], ABC, Matchable[TSource]):
    &#34;&#34;&#34;Option abstract base class.&#34;&#34;&#34;

    @overload
    def pipe(self, __fn1: Callable[[&#34;Option[TSource]&#34;], TResult]) -&gt; TResult:
        ...

    @overload
    def pipe(self, __fn1: Callable[[&#34;Option[TSource]&#34;], T1], __fn2: Callable[[T1], T2]) -&gt; T2:
        ...

    @overload
    def pipe(
        self, __fn1: Callable[[&#34;Option[TSource]&#34;], T1], __fn2: Callable[[T1], T2], __fn3: Callable[[T2], T3]
    ) -&gt; T3:
        ...

    @overload
    def pipe(
        self,
        __fn1: Callable[[&#34;Option[TSource]&#34;], T1],
        __fn2: Callable[[T1], T2],
        __fn3: Callable[[T2], T3],
        __fn4: Callable[[T3], T4],
    ) -&gt; T4:
        ...

    def pipe(self, *args: Any) -&gt; Any:
        &#34;&#34;&#34;Pipe option through the given functions.&#34;&#34;&#34;
        return pipe(self, *args)

    def default_value(self, value: TSource) -&gt; TSource:
        &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
        returns the specified default value.
        &#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def map(self, mapper: Callable[[TSource], TResult]) -&gt; &#34;Option[TResult]&#34;:
        raise NotImplementedError

    @abstractmethod
    def map2(self, mapper: Callable[[TSource, T2], TResult], other: &#34;Option[T2]&#34;) -&gt; &#34;Option[TResult]&#34;:
        raise NotImplementedError

    @abstractmethod
    def bind(self, mapper: Callable[[TSource], &#34;Option[TResult]&#34;]) -&gt; &#34;Option[TResult]&#34;:
        &#34;&#34;&#34;Bind option.

        Applies and returns the result of the mapper if the value is
        `Some`. If the value is `Nothing` then `Nothing` is returned.

        Args:
            mapper: A function that takes the value of type TSource from
                an option and transforms it into an option containing a
                value of type TResult.

        Returns:
            An option of the output type of the mapper.
        &#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def or_else(self, if_none: &#34;Option[TSource]&#34;) -&gt; &#34;Option[TSource]&#34;:
        &#34;&#34;&#34;Returns option if it is Some, otherwise returns `if_one`. &#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def to_list(self) -&gt; List[TSource]:
        raise NotImplementedError

    @abstractmethod
    def to_seq(self) -&gt; Iterable[TSource]:
        raise NotImplementedError

    @abstractmethod
    def is_some(self) -&gt; bool:
        &#34;&#34;&#34;Returns true if the option is not Nothing.&#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def is_none(self) -&gt; bool:
        &#34;&#34;&#34;Returns true if the option is Nothing.&#34;&#34;&#34;
        raise NotImplementedError

    @abstractmethod
    def __eq__(self, other: Any) -&gt; bool:
        raise NotImplementedError

    def __repr__(self) -&gt; str:
        return self.__str__()

    @property
    @abstractmethod
    def value(self) -&gt; TSource:
        &#34;&#34;&#34;Returns the value wrapped by the option.

        A `ValueError` is raised if the option is `Nothing`.
        &#34;&#34;&#34;
        raise NotImplementedError</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>collections.abc.Iterable</li>
<li>abc.ABC</li>
<li>expression.core.match.Matchable</li>
<li>typing.Protocol</li>
<li>typing.Generic</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="expression.core.option.Nothing_" href="#expression.core.option.Nothing_">Nothing_</a></li>
<li><a title="expression.core.option.Some" href="#expression.core.option.Some">Some</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="expression.core.option.Option.value"><code class="name">var <span class="ident">value</span> : ~TSource</code></dt>
<dd>
<div class="desc"><p>Returns the value wrapped by the option.</p>
<p>A <code>ValueError</code> is raised if the option is <code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
@abstractmethod
def value(self) -&gt; TSource:
    &#34;&#34;&#34;Returns the value wrapped by the option.

    A `ValueError` is raised if the option is `Nothing`.
    &#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="expression.core.option.Option.bind"><code class="name flex">
<span>def <span class="ident">bind</span></span>(<span>self, mapper: Callable[[~TSource], ForwardRef('<a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[TResult]')]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]</span>
</code></dt>
<dd>
<div class="desc"><p>Bind option.</p>
<p>Applies and returns the result of the mapper if the value is
<code><a title="expression.core.option.Some" href="#expression.core.option.Some">Some</a></code>. If the value is <code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code> then <code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code> is returned.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>mapper</code></strong></dt>
<dd>A function that takes the value of type TSource from
an option and transforms it into an option containing a
value of type TResult.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>An option of the output type of the mapper.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def bind(self, mapper: Callable[[TSource], &#34;Option[TResult]&#34;]) -&gt; &#34;Option[TResult]&#34;:
    &#34;&#34;&#34;Bind option.

    Applies and returns the result of the mapper if the value is
    `Some`. If the value is `Nothing` then `Nothing` is returned.

    Args:
        mapper: A function that takes the value of type TSource from
            an option and transforms it into an option containing a
            value of type TResult.

    Returns:
        An option of the output type of the mapper.
    &#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.default_value"><code class="name flex">
<span>def <span class="ident">default_value</span></span>(<span>self, value: ~TSource) ‑> ~TSource</span>
</code></dt>
<dd>
<div class="desc"><p>Gets the value of the option if the option is Some, otherwise
returns the specified default value.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def default_value(self, value: TSource) -&gt; TSource:
    &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
    returns the specified default value.
    &#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.is_none"><code class="name flex">
<span>def <span class="ident">is_none</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns true if the option is Nothing.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def is_none(self) -&gt; bool:
    &#34;&#34;&#34;Returns true if the option is Nothing.&#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.is_some"><code class="name flex">
<span>def <span class="ident">is_some</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns true if the option is not Nothing.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def is_some(self) -&gt; bool:
    &#34;&#34;&#34;Returns true if the option is not Nothing.&#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.map"><code class="name flex">
<span>def <span class="ident">map</span></span>(<span>self, mapper: Callable[[~TSource], ~TResult]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def map(self, mapper: Callable[[TSource], TResult]) -&gt; &#34;Option[TResult]&#34;:
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.map2"><code class="name flex">
<span>def <span class="ident">map2</span></span>(<span>self, mapper: Callable[[~TSource, ~T2], ~TResult], other: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[T2]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def map2(self, mapper: Callable[[TSource, T2], TResult], other: &#34;Option[T2]&#34;) -&gt; &#34;Option[TResult]&#34;:
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.or_else"><code class="name flex">
<span>def <span class="ident">or_else</span></span>(<span>self, if_none: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[TSource]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]</span>
</code></dt>
<dd>
<div class="desc"><p>Returns option if it is Some, otherwise returns <code>if_one</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def or_else(self, if_none: &#34;Option[TSource]&#34;) -&gt; &#34;Option[TSource]&#34;:
    &#34;&#34;&#34;Returns option if it is Some, otherwise returns `if_one`. &#34;&#34;&#34;
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.pipe"><code class="name flex">
<span>def <span class="ident">pipe</span></span>(<span>self, *args: Any) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"><p>Pipe option through the given functions.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pipe(self, *args: Any) -&gt; Any:
    &#34;&#34;&#34;Pipe option through the given functions.&#34;&#34;&#34;
    return pipe(self, *args)</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.to_list"><code class="name flex">
<span>def <span class="ident">to_list</span></span>(<span>self) ‑> List[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def to_list(self) -&gt; List[TSource]:
    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="expression.core.option.Option.to_seq"><code class="name flex">
<span>def <span class="ident">to_seq</span></span>(<span>self) ‑> Iterable[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abstractmethod
def to_seq(self) -&gt; Iterable[TSource]:
    raise NotImplementedError</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="expression.core.option.Some"><code class="flex name class">
<span>class <span class="ident">Some</span></span>
<span>(</span><span>value: ~TSource)</span>
</code></dt>
<dd>
<div class="desc"><p>The Some option case class.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Some(Option[TSource]):
    &#34;&#34;&#34;The Some option case class.&#34;&#34;&#34;

    def __init__(self, value: TSource) -&gt; None:
        self._value = value

    def default_value(self, value: TSource) -&gt; TSource:
        &#34;&#34;&#34;Gets the value of the option if the option is Some, otherwise
        returns the specified default value.
        &#34;&#34;&#34;
        return self._value

    def is_some(self) -&gt; bool:
        &#34;&#34;&#34;Returns `True`.&#34;&#34;&#34;
        return True

    def is_none(self) -&gt; bool:
        &#34;&#34;&#34;Returns `False`.&#34;&#34;&#34;
        return False

    def map(self, mapper: Callable[[TSource], TResult]):
        return Some(mapper(self._value))

    def map2(self, mapper: Callable[[TSource, T2], TResult], other: Option[T2]) -&gt; Option[TResult]:
        if isinstance(other, Some):
            return Some(mapper(self._value, cast(Some[T2], other).value))
        return Nothing

    def bind(self, mapper: Callable[[TSource], Option[TResult]]) -&gt; Option[TResult]:
        &#34;&#34;&#34;Bind option.

        Applies and returns the result of the mapper if the value is
        `Some`. If the value is `Nothing` then `Nothing` is returned.

        Args:
            mapper: A function that takes the value of type TSource from
                an option and transforms it into an option containing a
                value of type TResult.

        Returns:
            An option of the output type of the mapper.
        &#34;&#34;&#34;
        return mapper(self._value)

    def or_else(self, if_none: Option[TSource]) -&gt; Option[TSource]:
        &#34;&#34;&#34;Returns `self`.&#34;&#34;&#34;
        return self

    def to_list(self) -&gt; List[TSource]:
        return [self._value]

    def to_seq(self) -&gt; Iterable[TSource]:
        return [self._value]

    @property
    def value(self) -&gt; TSource:
        &#34;&#34;&#34;Returns the value wrapped by the option.

        A `ValueError` is raised if the option is `Nothing`.
        &#34;&#34;&#34;
        return self._value

    def __match__(self, pattern: Any) -&gt; Iterable[TSource]:
        if self == pattern:
            return [self.value]

        try:
            if isinstance(self, pattern):
                return [self.value]
        except TypeError:
            pass

        return []

    def __eq__(self, other: Any) -&gt; bool:
        if isinstance(other, Some):
            return self._value == other._value  # type: ignore
        return False

    def __iter__(self) -&gt; Generator[TSource, TSource, TSource]:
        return (yield self._value)

    def __str__(self) -&gt; str:
        return f&#34;Some {self._value}&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a></li>
<li>collections.abc.Iterable</li>
<li>abc.ABC</li>
<li>expression.core.match.Matchable</li>
<li>typing.Protocol</li>
<li>typing.Generic</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="expression.core.option.Some.is_none"><code class="name flex">
<span>def <span class="ident">is_none</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns <code>False</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_none(self) -&gt; bool:
    &#34;&#34;&#34;Returns `False`.&#34;&#34;&#34;
    return False</code></pre>
</details>
</dd>
<dt id="expression.core.option.Some.is_some"><code class="name flex">
<span>def <span class="ident">is_some</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns <code>True</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_some(self) -&gt; bool:
    &#34;&#34;&#34;Returns `True`.&#34;&#34;&#34;
    return True</code></pre>
</details>
</dd>
<dt id="expression.core.option.Some.map"><code class="name flex">
<span>def <span class="ident">map</span></span>(<span>self, mapper: Callable[[~TSource], ~TResult])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map(self, mapper: Callable[[TSource], TResult]):
    return Some(mapper(self._value))</code></pre>
</details>
</dd>
<dt id="expression.core.option.Some.map2"><code class="name flex">
<span>def <span class="ident">map2</span></span>(<span>self, mapper: Callable[[~TSource, ~T2], ~TResult], other: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~T2]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TResult]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def map2(self, mapper: Callable[[TSource, T2], TResult], other: Option[T2]) -&gt; Option[TResult]:
    if isinstance(other, Some):
        return Some(mapper(self._value, cast(Some[T2], other).value))
    return Nothing</code></pre>
</details>
</dd>
<dt id="expression.core.option.Some.or_else"><code class="name flex">
<span>def <span class="ident">or_else</span></span>(<span>self, if_none: <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]) ‑> <a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a>[~TSource]</span>
</code></dt>
<dd>
<div class="desc"><p>Returns <code>self</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def or_else(self, if_none: Option[TSource]) -&gt; Option[TSource]:
    &#34;&#34;&#34;Returns `self`.&#34;&#34;&#34;
    return self</code></pre>
</details>
</dd>
<dt id="expression.core.option.Some.to_list"><code class="name flex">
<span>def <span class="ident">to_list</span></span>(<span>self) ‑> List[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_list(self) -&gt; List[TSource]:
    return [self._value]</code></pre>
</details>
</dd>
<dt id="expression.core.option.Some.to_seq"><code class="name flex">
<span>def <span class="ident">to_seq</span></span>(<span>self) ‑> Iterable[~TSource]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_seq(self) -&gt; Iterable[TSource]:
    return [self._value]</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a></b></code>:
<ul class="hlist">
<li><code><a title="expression.core.option.Option.bind" href="#expression.core.option.Option.bind">bind</a></code></li>
<li><code><a title="expression.core.option.Option.default_value" href="#expression.core.option.Option.default_value">default_value</a></code></li>
<li><code><a title="expression.core.option.Option.pipe" href="#expression.core.option.Option.pipe">pipe</a></code></li>
<li><code><a title="expression.core.option.Option.value" href="#expression.core.option.Option.value">value</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="expression.core" href="index.html">expression.core</a></code></li>
</ul>
</li>
<li><h3><a href="#header-variables">Global variables</a></h3>
<ul class="">
<li><code><a title="expression.core.option.Nothing" href="#expression.core.option.Nothing">Nothing</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="expression.core.option.bind" href="#expression.core.option.bind">bind</a></code></li>
<li><code><a title="expression.core.option.default_value" href="#expression.core.option.default_value">default_value</a></code></li>
<li><code><a title="expression.core.option.is_none" href="#expression.core.option.is_none">is_none</a></code></li>
<li><code><a title="expression.core.option.is_some" href="#expression.core.option.is_some">is_some</a></code></li>
<li><code><a title="expression.core.option.map" href="#expression.core.option.map">map</a></code></li>
<li><code><a title="expression.core.option.map2" href="#expression.core.option.map2">map2</a></code></li>
<li><code><a title="expression.core.option.of_obj" href="#expression.core.option.of_obj">of_obj</a></code></li>
<li><code><a title="expression.core.option.of_optional" href="#expression.core.option.of_optional">of_optional</a></code></li>
<li><code><a title="expression.core.option.or_else" href="#expression.core.option.or_else">or_else</a></code></li>
<li><code><a title="expression.core.option.to_list" href="#expression.core.option.to_list">to_list</a></code></li>
<li><code><a title="expression.core.option.to_seq" href="#expression.core.option.to_seq">to_seq</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="expression.core.option.Nothing_" href="#expression.core.option.Nothing_">Nothing_</a></code></h4>
<ul class="two-column">
<li><code><a title="expression.core.option.Nothing_.is_none" href="#expression.core.option.Nothing_.is_none">is_none</a></code></li>
<li><code><a title="expression.core.option.Nothing_.is_some" href="#expression.core.option.Nothing_.is_some">is_some</a></code></li>
<li><code><a title="expression.core.option.Nothing_.map" href="#expression.core.option.Nothing_.map">map</a></code></li>
<li><code><a title="expression.core.option.Nothing_.map2" href="#expression.core.option.Nothing_.map2">map2</a></code></li>
<li><code><a title="expression.core.option.Nothing_.or_else" href="#expression.core.option.Nothing_.or_else">or_else</a></code></li>
<li><code><a title="expression.core.option.Nothing_.to_list" href="#expression.core.option.Nothing_.to_list">to_list</a></code></li>
<li><code><a title="expression.core.option.Nothing_.to_seq" href="#expression.core.option.Nothing_.to_seq">to_seq</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="expression.core.option.Option" href="#expression.core.option.Option">Option</a></code></h4>
<ul class="two-column">
<li><code><a title="expression.core.option.Option.bind" href="#expression.core.option.Option.bind">bind</a></code></li>
<li><code><a title="expression.core.option.Option.default_value" href="#expression.core.option.Option.default_value">default_value</a></code></li>
<li><code><a title="expression.core.option.Option.is_none" href="#expression.core.option.Option.is_none">is_none</a></code></li>
<li><code><a title="expression.core.option.Option.is_some" href="#expression.core.option.Option.is_some">is_some</a></code></li>
<li><code><a title="expression.core.option.Option.map" href="#expression.core.option.Option.map">map</a></code></li>
<li><code><a title="expression.core.option.Option.map2" href="#expression.core.option.Option.map2">map2</a></code></li>
<li><code><a title="expression.core.option.Option.or_else" href="#expression.core.option.Option.or_else">or_else</a></code></li>
<li><code><a title="expression.core.option.Option.pipe" href="#expression.core.option.Option.pipe">pipe</a></code></li>
<li><code><a title="expression.core.option.Option.to_list" href="#expression.core.option.Option.to_list">to_list</a></code></li>
<li><code><a title="expression.core.option.Option.to_seq" href="#expression.core.option.Option.to_seq">to_seq</a></code></li>
<li><code><a title="expression.core.option.Option.value" href="#expression.core.option.Option.value">value</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="expression.core.option.Some" href="#expression.core.option.Some">Some</a></code></h4>
<ul class="two-column">
<li><code><a title="expression.core.option.Some.is_none" href="#expression.core.option.Some.is_none">is_none</a></code></li>
<li><code><a title="expression.core.option.Some.is_some" href="#expression.core.option.Some.is_some">is_some</a></code></li>
<li><code><a title="expression.core.option.Some.map" href="#expression.core.option.Some.map">map</a></code></li>
<li><code><a title="expression.core.option.Some.map2" href="#expression.core.option.Some.map2">map2</a></code></li>
<li><code><a title="expression.core.option.Some.or_else" href="#expression.core.option.Some.or_else">or_else</a></code></li>
<li><code><a title="expression.core.option.Some.to_list" href="#expression.core.option.Some.to_list">to_list</a></code></li>
<li><code><a title="expression.core.option.Some.to_seq" href="#expression.core.option.Some.to_seq">to_seq</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>